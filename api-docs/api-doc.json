{"openapi":"3.1.0","info":{"title":"Library Management System API","description":"API documentation for the Library Management System","contact":{"name":"Mahitosh Giri","url":"https://www.url.com","email":"mahitoshgiri287@mail.com"},"license":{"name":"Apache 2.0","url":"http://springdoc.org"},"version":"v1.0"},"externalDocs":{"description":"Library Management System Wiki","url":"https://springshop.wiki.github.org/docs"},"servers":[{"url":"http://localhost:5001","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"UserController","description":"User Management"},{"name":"BookBorrowControllerController","description":"Book Borrow Management"},{"name":"NewsletterController","description":"Newsletter Management"},{"name":"BookController","description":"Book Management"},{"name":"AuthController","description":"Auth Management"},{"name":"AnalyticsController","description":"Analytics Management"}],"paths":{"/v1/api/user/user-logout":{"post":{"tags":["UserController"],"summary":"Create a logout ","description":"This API is used to logout","operationId":"logout","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/user/user-edit":{"post":{"tags":["UserController"],"summary":"User Edit","description":"Edit User details of a specific user.","operationId":"editUser","requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/user/update-password":{"post":{"tags":["UserController"],"summary":"Update Password","description":"Allows logged-in users to change their password.","operationId":"updatePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/transitional/stock":{"post":{"tags":["BookBorrowControllerController"],"summary":"stock of Book Borrow Management ","description":"This ","operationId":"BookStock","requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/transitional/return":{"post":{"tags":["BookBorrowControllerController"],"summary":"return of Book Borrow Management ","description":"This ","operationId":"BookReturn","requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/transitional/borrow":{"post":{"tags":["BookBorrowControllerController"],"summary":"borrow of Book Borrow Management ","description":"This ","operationId":"BookBorrow","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowedBookDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/book/create":{"post":{"tags":["BookController"],"summary":"create of Book  Management ","description":"This ","operationId":"BookCreate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/auth/user-login":{"post":{"tags":["AuthController"],"summary":"Create a user-signing ","description":"This API is used to user-signin","operationId":"authenticateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/auth/upload":{"post":{"tags":["AuthController"],"summary":"Photo Upload ","description":"This API is photo upload","operationId":"imageupload","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"profile":{"type":"string","format":"binary"},"idProof":{"type":"string","format":"binary"}},"required":["idProof","profile"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/v1/api/auth/signup":{"post":{"tags":["AuthController"],"summary":"Create a user-signup ","description":"This API is used to user-signup","operationId":"registerUser","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"signupDTO":{"type":"string"},"profile":{"type":"string","format":"binary","description":"Local Image Upload"},"idProof":{"type":"string","format":"binary","description":"Local Image Upload"}},"required":["signupDTO"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}},"/v1/api/auth/reset-password":{"post":{"tags":["AuthController"],"summary":"Reset Password","description":"Resets the password using the token.","operationId":"resetPasswords","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/auth/refresh":{"post":{"tags":["AuthController"],"summary":"Create a user-refresh ","description":"This API is used to user-resfresh","operationId":"refreshAccessToken","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/auth/forgot-password":{"post":{"tags":["AuthController"],"summary":"Request Password Reset","description":"Generates a password reset token and sends email.","operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/auth/admin-login":{"post":{"tags":["AuthController"],"summary":"Create a Admin-signing ","description":"This API is used to Admin-signing","operationId":"authenticateAdminUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/Newsletter/unsubscribe":{"post":{"tags":["NewsletterController"],"summary":"unsubscribe of Newsletter Management ","description":"This ","operationId":"unsubscribe","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/Newsletter/subscribe":{"post":{"tags":["NewsletterController"],"summary":"subscribe of Newsletter Management ","description":"This ","operationId":"subscribe","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/Newsletter/contact-us":{"post":{"tags":["NewsletterController"],"summary":"Contact Us details store ","description":"This is used for user contact details save","operationId":"contactUs","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactUsDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/user/user-updated":{"patch":{"tags":["UserController"],"summary":"User Edit","description":"Edit User details of a specific user.","operationId":"updateUser","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"updateUserDTO":{"type":"string"},"profile":{"type":"string","format":"binary","description":"Local Image Upload"},"idProof":{"type":"string","format":"binary","description":"Local Image Upload"}},"required":["updateUserDTO"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/book/update":{"patch":{"tags":["BookController"],"summary":"Update Book","description":"Partially update a book using PATCH.","operationId":"BookUpdate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/user/userinfo":{"get":{"tags":["UserController"],"summary":"User Details","description":" Get user details of the logged-in user.","operationId":"getUserDetails","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/user/all-user":{"get":{"tags":["UserController"],"summary":"Get All user","description":"  This Api used to get all user.","operationId":"getAllUser","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":6}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"sortOrder","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/transitional/get-all-borrowings":{"get":{"tags":["BookBorrowControllerController"],"summary":"stock of Book Borrow Management ","description":"This ","operationId":"getAllBorrowings","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":6}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"sortOrder","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BorrowBookResponse"}}}}}}},"/v1/api/transitional/get-all-borrowings-of-a-member":{"get":{"tags":["BookBorrowControllerController"],"operationId":"getAllBorrowingsOfAMember","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":6}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"sortOrder","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BorrowBookResponse"}}}}}}},"/v1/api/book/edit":{"get":{"tags":["BookController"],"summary":"edit of Book  Management ","description":"This ","operationId":"BookEdit","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/book/category":{"get":{"tags":["BookController"],"summary":"category of Book  Management ","description":"This ","operationId":"getCategory","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/v1/api/book/all-book":{"get":{"tags":["BookController"],"summary":"all-book of Book  Management ","description":"This ","operationId":"AllBook","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":6}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"sortOrder","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookResponse"}}}}}}},"/v1/api/analytics/popular-books":{"get":{"tags":["AnalyticsController"],"summary":"popular-books of Analytics ","description":"This ","operationId":"getPopularBooks","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/v1/api/analytics/overview":{"get":{"tags":["AnalyticsController"],"summary":"overview of Analytics ","description":"This ","operationId":"getLibraryOverview","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/v1/api/analytics/member-activity":{"get":{"tags":["AnalyticsController"],"summary":"member-activity of Analytics ","description":"This ","operationId":"getMemberActivityReport","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/v1/api/analytics/borrowing-trends":{"get":{"tags":["AnalyticsController"],"summary":"borrowing-trends of Analytics ","description":"This ","operationId":"getBorrowingTrends","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}}}}}}}}},"/v1/api/user/delete-user":{"delete":{"tags":["UserController"],"summary":"Soft delete a user","description":"Marks a user as deleted instead of permanently removing them.","operationId":"userDelete","requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/api/book/delete":{"delete":{"tags":["BookController"],"summary":"delete of Book  Management ","description":"This ","operationId":"DeleteBook","requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UpdatePasswordDTO":{"type":"object","properties":{"oldPassword":{"type":"string"},"newPassword":{"type":"string"}}},"BorrowedBookDTO":{"type":"object","properties":{"bookId":{"type":"integer","format":"int64"}}},"BookDTO":{"type":"object","properties":{"title":{"type":"string"},"author":{"type":"string"},"publisher":{"type":"string"},"language":{"type":"string"},"isbn":{"type":"string"},"status":{"type":"string","enum":["AVAILABLE","BORROWED","NOTAVAILABLE"]},"bookCount":{"type":"integer","format":"int32"},"description":{"type":"string"},"category":{"type":"string"}}},"LoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"Role":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"roleName":{"type":"string","enum":["ROLE_STUDENT","ROLE_SELLER","ROLE_ADMIN"]}}},"UserInfoResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userName":{"type":"string"},"email":{"type":"string"},"accountNonLocked":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"enabled":{"type":"boolean"},"credentialsExpiryDate":{"type":"string","format":"date"},"accountExpiryDate":{"type":"string","format":"date"},"isTwoFactorEnabled":{"type":"boolean"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/Role"},"uniqueItems":true},"idProof":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE","PENDING","BANNED","SUSPENDED"]},"term_condition_material":{"type":"string"},"agree_marketing_material":{"type":"string"},"fcm_token":{"type":"string"},"profile":{"type":"string"},"phone_number":{"type":"string"},"country_code":{"type":"string"},"address":{"type":"string"},"isVerified":{"type":"boolean"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"ResetPasswordDTO":{"type":"object","properties":{"token":{"type":"string"},"newPassword":{"type":"string"},"comPassword":{"type":"string"}}},"ForgotPasswordDTO":{"type":"object","properties":{"email":{"type":"string"}}},"ContactUsDTO":{"type":"object","properties":{"email":{"type":"string"},"fullname":{"type":"string"},"message":{"type":"string"},"subject":{"type":"string"},"user_id":{"type":"integer","format":"int64"}}},"BookUpdateDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"author":{"type":"string"},"publisher":{"type":"string"},"language":{"type":"string"},"isbn":{"type":"string"},"status":{"type":"string","enum":["AVAILABLE","BORROWED","NOTAVAILABLE"]},"bookCount":{"type":"integer","format":"int32"},"description":{"type":"string"},"category":{"type":"string"}}},"UserResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/UserInfoResponse"}},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"lastPage":{"type":"boolean"}}},"BorrowBookResponse":{"type":"object","properties":{"content":{"type":"object"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"lastPage":{"type":"boolean"}}},"Book":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"author":{"type":"string"},"publisher":{"type":"string"},"language":{"type":"string"},"isbn":{"type":"string"},"status":{"type":"string","enum":["AVAILABLE","BORROWED","NOTAVAILABLE"]},"createdAt":{"type":"string","format":"date-time"},"bookCount":{"type":"integer","format":"int32"},"category":{"type":"string"},"description":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"BookResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/Book"}},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"lastPage":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}