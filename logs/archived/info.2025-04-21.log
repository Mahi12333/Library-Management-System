2025-04-21 16:06:22 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-21 16:06:22 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 16:06:22 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 16:06:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-21 16:06:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-21 16:06:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 16:06:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 569 ms. Found 13 JPA repository interfaces.
2025-04-21 16:06:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 16:06:30 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 16:06:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 16:06:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 16:06:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 16:06:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7352 ms
2025-04-21 16:06:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 16:06:31 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-21 16:06:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 16:06:31 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 16:06:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-21 16:06:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4978ff78
2025-04-21 16:06:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-21 16:06:32 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 16:06:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 16:06:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 16:06:35 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 16:06:37 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 16:06:38 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 16:06:39 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 16:06:39 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:39 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:06:40 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 16:06:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 16:06:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 16:06:40 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 19.576 seconds (process running for 22.346)
2025-04-21 16:06:40 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:06:40 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(117156003<open>)] for JPA transaction
2025-04-21 16:06:40 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d0dd3b7]
2025-04-21 16:06:40 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(117156003<open>)] for JPA transaction
2025-04-21 16:06:40 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:06:40 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(117156003<open>)] for JPA transaction
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(117156003<open>)] for JPA transaction
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(117156003<open>)]
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:06:41 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(117156003<open>)] after transaction
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/index.html
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/swagger-ui.css
2025-04-21 16:07:01 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/swagger-initializer.js
2025-04-21 16:07:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/index.css
2025-04-21 16:07:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/swagger-ui-bundle.js
2025-04-21 16:07:01 [http-nio-5001-exec-9] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/swagger-ui-standalone-preset.js
2025-04-21 16:07:01 [http-nio-5001-exec-6] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v3/api-docs/swagger-config
2025-04-21 16:07:01 [http-nio-5001-exec-10] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /swagger-ui/favicon-32x32.png
2025-04-21 16:07:01 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:01 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v3/api-docs
2025-04-21 16:07:01 [http-nio-5001-exec-7] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:07:01 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:07:02 [http-nio-5001-exec-7] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1143 ms
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor -  Else ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e00cbab]
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(57039696<open>)]
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@c0316b8]
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(57039696<open>)]
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(57039696<open>)] for JPA transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25e2234a]
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(57039696<open>)]
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 16:08:21 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 16:08:21 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:08:21 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 16:09:22 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:22 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:22 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1014303223<open>)] for JPA transaction
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2e88bad8]
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1014303223<open>)]
2025-04-21 16:09:22 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:22 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1014303223<open>)] after transaction
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(351292116<open>)] for JPA transaction
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@14e3d69c]
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(351292116<open>)]
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(351292116<open>)] after transaction
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1613420200<open>)] for JPA transaction
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@65852cb1]
2025-04-21 16:09:22 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:23 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:23 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1613420200<open>)]
2025-04-21 16:09:23 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:23 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:23 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1613420200<open>)] after transaction
2025-04-21 16:09:23 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:23 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:23 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:30 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:30 [http-nio-5001-exec-7] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:30 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(908132488<open>)] for JPA transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66819d62]
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(908132488<open>)]
2025-04-21 16:09:30 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:30 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(908132488<open>)] after transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2012467576<open>)] for JPA transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@240cd854]
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2012467576<open>)]
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2012467576<open>)] after transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(637175242<open>)] for JPA transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@aeb7fed]
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(637175242<open>)]
2025-04-21 16:09:30 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:30 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(637175242<open>)] after transaction
2025-04-21 16:09:30 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:30 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:30 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:34 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:34 [http-nio-5001-exec-8] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:34 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(156281931<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7975311]
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(156281931<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(156281931<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1110797809<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@480ae8a7]
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1110797809<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1110797809<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(133037059<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@dc1de1]
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(133037059<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(133037059<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:34 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:34 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:34 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:34 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:34 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(743967908<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@229ff75f]
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(743967908<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(743967908<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1120140624<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7abd4db4]
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1120140624<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1120140624<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1201995879<open>)] for JPA transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17b76471]
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1201995879<open>)]
2025-04-21 16:09:34 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1201995879<open>)] after transaction
2025-04-21 16:09:34 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:34 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:34 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:35 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:35 [http-nio-5001-exec-9] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:35 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1759557961<open>)] for JPA transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66275a25]
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1759557961<open>)]
2025-04-21 16:09:35 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:35 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1759557961<open>)] after transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(120655344<open>)] for JPA transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@30da45f2]
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(120655344<open>)]
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(120655344<open>)] after transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(874347241<open>)] for JPA transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@60854927]
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(874347241<open>)]
2025-04-21 16:09:35 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:35 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(874347241<open>)] after transaction
2025-04-21 16:09:35 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:35 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:35 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:36 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:36 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:36 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1151995644<open>)] for JPA transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4cce2713]
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1151995644<open>)]
2025-04-21 16:09:36 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:36 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1151995644<open>)] after transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1484782080<open>)] for JPA transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@597c45c7]
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1484782080<open>)]
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1484782080<open>)] after transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1414474931<open>)] for JPA transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c2329f2]
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1414474931<open>)]
2025-04-21 16:09:36 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:36 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1414474931<open>)] after transaction
2025-04-21 16:09:36 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:36 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:36 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:37 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:37 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:37 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1031770713<open>)] for JPA transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33b87b86]
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1031770713<open>)]
2025-04-21 16:09:37 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:37 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1031770713<open>)] after transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(858742286<open>)] for JPA transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61534f43]
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(858742286<open>)]
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(858742286<open>)] after transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1318587666<open>)] for JPA transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37e23e29]
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1318587666<open>)]
2025-04-21 16:09:37 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:37 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1318587666<open>)] after transaction
2025-04-21 16:09:37 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:37 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:37 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:38 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:38 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:38 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(430484283<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d6c492d]
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(430484283<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(430484283<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1453430340<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@535ebd6c]
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1453430340<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1453430340<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(219205080<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@495750dd]
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(219205080<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(219205080<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:38 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:38 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:38 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:38 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:38 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(950900269<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6fef16a3]
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(950900269<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(950900269<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1142064987<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2b48f907]
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1142064987<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1142064987<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(853685980<open>)] for JPA transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3085d17b]
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(853685980<open>)]
2025-04-21 16:09:38 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(853685980<open>)] after transaction
2025-04-21 16:09:38 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:38 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:38 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:39 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/stock
2025-04-21 16:09:39 [http-nio-5001-exec-10] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:39 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(740886462<open>)] for JPA transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6271e574]
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(740886462<open>)]
2025-04-21 16:09:39 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:39 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(740886462<open>)] after transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(882200944<open>)] for JPA transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44e428fa]
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(882200944<open>)]
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(882200944<open>)] after transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1222179576<open>)] for JPA transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@379be0ae]
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1222179576<open>)]
2025-04-21 16:09:39 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:39 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1222179576<open>)] after transaction
2025-04-21 16:09:39 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:39 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:39 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1125044126<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7de80ef2]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1125044126<open>)]
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1125044126<open>)] after transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1801644085<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7bb6085a]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1801644085<open>)]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1801644085<open>)] after transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(253194592<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b9503e1]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(253194592<open>)]
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(253194592<open>)] after transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7eb7c015]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@6ec4b7d9
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1114708720<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1131405745<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@7897d1b2
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1506f513]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1114708720<open>)]
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1952404997<open>)] for JPA transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7060dc56]
2025-04-21 16:09:59 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 16:09:59 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1131405745<open>)]
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1952404997<open>)]
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1952404997<open>)] after transaction
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1131405745<open>)] after transaction
2025-04-21 16:09:59 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:09:59 [task-3] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#26]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#26]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:09:59 [task-1] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#25]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#25]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(492697182<open>)] for JPA transaction
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1747245376<open>)] for JPA transaction
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4431b692]
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13360fb6]
2025-04-21 16:09:59 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:09:59 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 16:09:59 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:09:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(492697182<open>)]
2025-04-21 16:09:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1747245376<open>)]
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:09:59 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:09:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:10:00 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:10:00 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:10:00 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(492697182<open>)] after transaction
2025-04-21 16:10:00 [task-3] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#26]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#26]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:10:00 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1747245376<open>)] after transaction
2025-04-21 16:10:00 [task-1] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#25]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#25]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:10:00 [task-4] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 16:10:00 [task-2] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1160025260<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f6642ea]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1160025260<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1160025260<open>)] after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1350822329<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38dcc6b1]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1350822329<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1350822329<open>)] after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(416198650<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1225b83b]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(416198650<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(416198650<open>)] after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1797705083<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2892730]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1797705083<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1797705083<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4efe04ae]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1797705083<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--2025-04-11 19:28:22.966
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1797705083<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@786f605]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1797705083<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1797705083<open>)] for JPA transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@413611db]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1797705083<open>)]
2025-04-21 16:10:38 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:10:38 [http-nio-5001-exec-9] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Book has already been returned
2025-04-21 16:10:38 [http-nio-5001-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Book has already been returned]
2025-04-21 16:48:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m17s360ms930µs300ns).
2025-04-21 16:51:48 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-04-21 16:51:48 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 16:51:48 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 16:51:48 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:48 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 16:51:48 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-21 16:51:48 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-21 16:51:49 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 16:51:49 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 16:51:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 16:51:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 219 ms. Found 13 JPA repository interfaces.
2025-04-21 16:51:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 16:51:52 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 16:51:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 16:51:52 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 16:51:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3084 ms
2025-04-21 16:51:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 16:51:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 16:51:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 16:51:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-04-21 16:51:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f82b0ad
2025-04-21 16:51:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-04-21 16:51:52 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 16:51:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 16:51:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 16:51:54 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 16:51:55 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 16:51:55 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 16:51:55 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:55 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:51:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 16:51:56 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 16:51:56 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 7.163 seconds (process running for 2737.856)
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(56586766<open>)] for JPA transaction
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54423640]
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(56586766<open>)] for JPA transaction
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(56586766<open>)] for JPA transaction
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(56586766<open>)] for JPA transaction
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(56586766<open>)]
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:51:56 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(56586766<open>)] after transaction
2025-04-21 16:51:56 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 16:51:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-04-21 16:51:57 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 16:51:57 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 16:51:57 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:57 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 16:51:57 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-04-21 16:51:57 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-04-21 16:51:57 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 16:51:57 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 16:51:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 16:51:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 116 ms. Found 13 JPA repository interfaces.
2025-04-21 16:51:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 16:51:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 16:51:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 16:51:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 16:51:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 16:51:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1674 ms
2025-04-21 16:51:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 16:51:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 16:51:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 16:51:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-04-21 16:51:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2115f1
2025-04-21 16:51:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-04-21 16:51:59 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 16:52:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 16:52:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 16:52:00 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 16:52:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 16:52:01 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 16:52:01 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 16:52:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 16:52:01 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 16:52:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 16:52:01 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 4.159 seconds (process running for 2743.639)
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(353323270<open>)] for JPA transaction
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@663eb2bf]
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(353323270<open>)] for JPA transaction
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(353323270<open>)] for JPA transaction
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(353323270<open>)] for JPA transaction
2025-04-21 16:52:01 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:01 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 16:52:02 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:02 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(353323270<open>)]
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:02 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(353323270<open>)] after transaction
2025-04-21 16:52:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:52:12 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:52:13 [http-nio-5001-exec-1] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 1432013 milliseconds ago at 2025-04-21T10:58:21.000Z. Current time: 2025-04-21T11:22:13.013Z. Allowed clock skew: 0 milliseconds.
2025-04-21 16:52:13 [http-nio-5001-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [278] milliseconds.
2025-04-21 16:52:13 [http-nio-5001-exec-1] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjMxOTAxLCJleHAiOjE3NDUyMzMxMDF9.b2tkjPeFSApOGtrf-ulheE-0-srz2QePtzUQVKbjDMs
2025-04-21 16:52:21 [http-nio-5001-exec-3] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 1440241 milliseconds ago at 2025-04-21T10:58:21.000Z. Current time: 2025-04-21T11:22:21.241Z. Allowed clock skew: 0 milliseconds.
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@16aa4638]
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1023283796<open>)]
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@19aad9e5]
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1023283796<open>)]
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1023283796<open>)] for JPA transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fcb93b4]
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1023283796<open>)]
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 16:52:21 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 16:52:21 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:52:21 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 16:52:56 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 16:52:56 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzU3NDF9.VNPiATse62wpUUwsxz_P9tga4Sy_UxTL3aueD8I3SKA
2025-04-21 16:52:56 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzU3NDF9.VNPiATse62wpUUwsxz_P9tga4Sy_UxTL3aueD8I3SKA
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(477509555<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12b1da4d]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(477509555<open>)]
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(477509555<open>)] after transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(970492067<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13ece359]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(970492067<open>)]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(970492067<open>)] after transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(770108954<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77a75547]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(770108954<open>)]
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(770108954<open>)] after transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 16:52:56 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 16:52:56 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4bc58998]
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:56 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:56 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 16:52:57 [http-nio-5001-exec-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@1bf7f097
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(968890105<open>)] for JPA transaction
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1977545873<open>)] for JPA transaction
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2adf442a]
2025-04-21 16:52:57 [http-nio-5001-exec-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@2efe931b
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(968890105<open>)]
2025-04-21 16:52:57 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1884117616<open>)] for JPA transaction
2025-04-21 16:52:57 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7472d0a1]
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:52:57 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1977545873<open>)]
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1977545873<open>)] after transaction
2025-04-21 16:52:57 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [task-1] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#27]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#27]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy8/jdk.proxy8.$Proxy233.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 16:52:57 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1884117616<open>)]
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(806392955<open>)] for JPA transaction
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79b9e573]
2025-04-21 16:52:57 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1884117616<open>)] after transaction
2025-04-21 16:52:57 [task-2] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 16:52:57 [task-3] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#28]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#28]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy8/jdk.proxy8.$Proxy233.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 16:52:57 [task-4] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1427182322<open>)] for JPA transaction
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a9ced46]
2025-04-21 16:52:57 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 16:52:57 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(806392955<open>)]
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1427182322<open>)]
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 16:52:57 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 16:52:57 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(806392955<open>)] after transaction
2025-04-21 16:52:57 [task-1] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#27]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#27]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy8/jdk.proxy8.$Proxy233.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 16:52:57 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1427182322<open>)] after transaction
2025-04-21 16:52:57 [task-3] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#28]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy244.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#28]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy8/jdk.proxy8.$Proxy233.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:14:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-21 17:14:03 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 17:14:03 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:14:03 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 17:14:03 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 17:14:03 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:14:03 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-04-21 17:14:03 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-04-21 17:14:03 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 17:14:03 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 17:14:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 17:14:05 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.TypeNotPresentException: Type org.librarymanagementsystem.model.Borrowed_book_records not present
2025-04-21 17:14:05 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 17:14:05 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.TypeNotPresentException: Type org.librarymanagementsystem.model.Borrowed_book_records not present
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117)
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)
	at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)
	at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117)
	at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95)
	at java.base/java.lang.Class.getGenericInterfaces(Class.java:1296)
	at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:553)
	at org.springframework.core.ResolvableType.as(ResolvableType.java:501)
	at org.springframework.data.util.TypeDiscoverer.getSuperTypeInformation(TypeDiscoverer.java:263)
	at org.springframework.data.util.ClassTypeInformation.getSuperTypeInformation(ClassTypeInformation.java:37)
	at org.springframework.data.util.TypeInformation.getRequiredSuperTypeInformation(TypeInformation.java:327)
	at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.<init>(DefaultRepositoryMetadata.java:55)
	at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:79)
	at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:93)
	at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:168)
	at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:397)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:396)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:149)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:121)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:430)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at org.librarymanagementsystem.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:15)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.ClassNotFoundException: org.librarymanagementsystem.model.Borrowed_book_records
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)
	... 39 common frames omitted
2025-04-21 17:14:08 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 17:14:08 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 17:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 17:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 13 JPA repository interfaces.
2025-04-21 17:14:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 17:14:09 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:14:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 17:14:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 17:14:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 17:14:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1623 ms
2025-04-21 17:14:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 17:14:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 17:14:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 17:14:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-04-21 17:14:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58f6d0c4
2025-04-21 17:14:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-04-21 17:14:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 17:14:10 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 17:14:10 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:14:10 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 17:14:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 17:14:11 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 17:14:11 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:14:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 17:14:11 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 17:14:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 17:14:11 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 3.336 seconds (process running for 4073.0)
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(935131297<open>)] for JPA transaction
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25e51688]
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(935131297<open>)] for JPA transaction
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(935131297<open>)] for JPA transaction
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(935131297<open>)] for JPA transaction
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(935131297<open>)]
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:14:11 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(935131297<open>)] after transaction
2025-04-21 17:14:11 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzU3NDF9.VNPiATse62wpUUwsxz_P9tga4Sy_UxTL3aueD8I3SKA
2025-04-21 17:16:48 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzU3NDF9.VNPiATse62wpUUwsxz_P9tga4Sy_UxTL3aueD8I3SKA
2025-04-21 17:16:48 [http-nio-5001-exec-1] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 267922 milliseconds ago at 2025-04-21T11:42:21.000Z. Current time: 2025-04-21T11:46:48.922Z. Allowed clock skew: 0 milliseconds.
2025-04-21 17:16:48 [http-nio-5001-exec-1] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/refresh
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzYzNDF9.COMJgzZmiyya8uWFGRQtkXd7uKUD1h0jsj6-Ubyl_UI
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzYzNDF9.COMJgzZmiyya8uWFGRQtkXd7uKUD1h0jsj6-Ubyl_UI
2025-04-21 17:17:30 [http-nio-5001-exec-3] ERROR o.l.security.jwt.AuthTokenFilter - Cannot set user authentication
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - refreshTokenHeader--Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzYzNDF9.COMJgzZmiyya8uWFGRQtkXd7uKUD1h0jsj6-Ubyl_UI
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - storedToken-- eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM0NTQxLCJleHAiOjE3NDUyMzYzNDF9.COMJgzZmiyya8uWFGRQtkXd7uKUD1h0jsj6-Ubyl_UI
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(258378760<open>)] for JPA transaction
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2beea3ba]
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(258378760<open>)]
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refreshes rt1_0 where rt1_0.token=?
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(258378760<open>)] for JPA transaction
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9823a1d]
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(258378760<open>)]
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 17:17:30 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - update refreshes set expiry_date=?,token=?,user_id=? where id=?
2025-04-21 17:17:30 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:17:30 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh, Status=200
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(543894848<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2eacd73d]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(543894848<open>)]
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(543894848<open>)] after transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(164126889<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56f4ee]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(164126889<open>)]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(164126889<open>)] after transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(49981891<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d8436c9]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(49981891<open>)]
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(49981891<open>)] after transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38a01e60]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@432a4655
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1834559543<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:17:49 [http-nio-5001-exec-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@236a9de8
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2133095822<open>)] for JPA transaction
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a9c0294]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1834559543<open>)]
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(229970183<open>)] for JPA transaction
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@98a9469]
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 17:17:49 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:17:49 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2133095822<open>)]
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2133095822<open>)] after transaction
2025-04-21 17:17:49 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(229970183<open>)]
2025-04-21 17:17:49 [task-1] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#29]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#29]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy10/jdk.proxy10.$Proxy254.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1700576809<open>)] for JPA transaction
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@c14a034]
2025-04-21 17:17:49 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(229970183<open>)] after transaction
2025-04-21 17:17:49 [task-3] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#30]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#30]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy10/jdk.proxy10.$Proxy254.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:17:49 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(686374013<open>)] for JPA transaction
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@68efcb07]
2025-04-21 17:17:49 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:17:49 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:17:49 [task-2] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1700576809<open>)]
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(686374013<open>)]
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-4] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:17:49 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:17:49 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(686374013<open>)] after transaction
2025-04-21 17:17:49 [task-3] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#30]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#30]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy10/jdk.proxy10.$Proxy254.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:17:49 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1700576809<open>)] after transaction
2025-04-21 17:17:49 [task-1] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#29]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy10/jdk.proxy10.$Proxy265.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#29]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy10/jdk.proxy10.$Proxy254.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:25:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-21 17:25:52 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 17:25:52 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:25:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 17:25:52 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 17:25:52 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:25:52 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-04-21 17:25:52 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-04-21 17:25:53 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 17:25:53 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 17:25:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 17:25:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 133 ms. Found 13 JPA repository interfaces.
2025-04-21 17:25:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 17:25:55 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:25:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 17:25:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 17:25:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 17:25:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2068 ms
2025-04-21 17:25:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 17:25:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 17:25:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 17:25:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-04-21 17:25:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ba5af28
2025-04-21 17:25:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-04-21 17:25:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 17:25:56 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 17:25:56 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:25:57 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 17:25:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 17:25:57 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 17:25:57 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:57 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:25:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 17:25:58 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 17:25:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 17:25:58 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 5.353 seconds (process running for 4779.989)
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1043041064<open>)] for JPA transaction
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ba5362]
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1043041064<open>)] for JPA transaction
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1043041064<open>)] for JPA transaction
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1043041064<open>)] for JPA transaction
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1043041064<open>)]
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:25:58 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1043041064<open>)] after transaction
2025-04-21 17:25:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1616113427<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@646c67c1]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1616113427<open>)]
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1616113427<open>)] after transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1331264637<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63135598]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1331264637<open>)]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1331264637<open>)] after transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1996980159<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6a46ade]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1996980159<open>)]
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1996980159<open>)] after transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@606b9ed6]
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@20d980dd
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(413788820<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:12 [http-nio-5001-exec-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5964c0ee
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(413788820<open>)]
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1266373859<open>)] for JPA transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:12 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f44d954]
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(552316251<open>)] for JPA transaction
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@24d42d9e]
2025-04-21 17:27:12 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:12 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(552316251<open>)]
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(552316251<open>)] after transaction
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1266373859<open>)]
2025-04-21 17:27:12 [task-2] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#32]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#32]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1254972182<open>)] for JPA transaction
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1266373859<open>)] after transaction
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48b49470]
2025-04-21 17:27:12 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-1] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#31]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#31]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1627086591<open>)] for JPA transaction
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32a423f]
2025-04-21 17:27:12 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-3] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:12 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1254972182<open>)]
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1627086591<open>)]
2025-04-21 17:27:12 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1254972182<open>)] after transaction
2025-04-21 17:27:12 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:27:12 [task-2] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#32]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#32]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:12 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1627086591<open>)] after transaction
2025-04-21 17:27:12 [task-1] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#31]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#31]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:12 [task-4] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(87673179<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@bfe378c]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(87673179<open>)]
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(87673179<open>)] after transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(283008152<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f5ef2eb]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(283008152<open>)]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(283008152<open>)] after transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(925373261<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@564859a3]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(925373261<open>)]
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(925373261<open>)] after transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ee7ed5a]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@30e68140
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(806150517<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(572570752<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@261f3c1c]
2025-04-21 17:27:27 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@8718ae3
2025-04-21 17:27:27 [task-6] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(806150517<open>)]
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2086686724<open>)] for JPA transaction
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@785fcb50]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 17:27:27 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(572570752<open>)]
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(572570752<open>)] after transaction
2025-04-21 17:27:27 [task-8] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:27 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [task-5] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#33]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#33]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(125613687<open>)] for JPA transaction
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@59dec14b]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2086686724<open>)]
2025-04-21 17:27:27 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2086686724<open>)] after transaction
2025-04-21 17:27:27 [task-7] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#34]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#34]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:27 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1497144491<open>)] for JPA transaction
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21c3a10c]
2025-04-21 17:27:27 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(125613687<open>)]
2025-04-21 17:27:27 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:27:27 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(125613687<open>)] after transaction
2025-04-21 17:27:27 [task-5] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#33]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#33]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:27 [task-7] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1497144491<open>)]
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:27 [task-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:27 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1497144491<open>)] after transaction
2025-04-21 17:27:27 [task-7] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#34]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#34]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzcyNTB9.mL8wVnbIgJA6fcwKBo472XSgxfZr91p11IhnH1rvab4
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1091277454<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4fcc74df]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1091277454<open>)]
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1091277454<open>)] after transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(698036589<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4b800efa]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(698036589<open>)]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(698036589<open>)] after transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1800745202<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@410d525a]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1800745202<open>)]
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1800745202<open>)] after transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10043b57]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@2e64d0df
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1871505953<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(4063789<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40186f2]
2025-04-21 17:27:47 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5e517454
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1871505953<open>)]
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1444837470<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [task-10] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Book Borrowed Successfully</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Congratulations! 🎉 You have successfully borrowed 'string' on 21 April 2025.<br><br>You now have 15 days to enjoy reading it. We kindly request that you return it to us on or before 05 May 2025 to avoid any late fees 📆, which are ₹10 per day for late returns.<br><br>If you need to renew the book or have any questions, please don't hesitate to reach out to us.<br><br>Thank you for choosing our library!</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f4f7af1]
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 17:27:47 [task-1] INFO  o.l.utils.EmailService - resetUrl-----<div style="font-family:Helvetica,Arial,sans-serif; font-size:16px; margin:0; color:#0b0c0c; background-color:#ffffff">

<span style="display:none;font-size:1px;color:#fff;max-height:0"></span>

  <table role="presentation" width="100%" style="border-collapse:collapse;min-width:100%;width:100%!important" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="100%" height="53" bgcolor="#0b0c0c">
        
        <table role="presentation" width="100%" style="border-collapse:collapse;max-width:580px" cellpadding="0" cellspacing="0" border="0" align="center">
          <tbody><tr>
            <td width="70" bgcolor="#0b0c0c" valign="middle">
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td style="padding-left:10px">
                  
                    </td>
                    <td style="font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px">
                      <span style="font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block">Reminder: Book Due Date Approaching</span>
                    </td>
                  </tr>
                </tbody></table>
              </a>
            </td>
          </tr>
        </tbody></table>
        
      </td>
    </tr>
  </tbody></table>
  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td width="10" height="10" valign="middle"></td>
      <td>
        
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse">
                  <tbody><tr>
                    <td bgcolor="#1D70B8" width="100%" height="10"></td>
                  </tr>
                </tbody></table>
        
      </td>
      <td width="10" valign="middle" height="10"></td>
    </tr>
  </tbody></table>



  <table role="presentation" class="m_-6186904992287805515content" align="center" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;max-width:580px;width:100%!important" width="100%">
    <tbody><tr>
      <td height="30"><br></td>
    </tr>
    <tr>
      <td width="10" valign="middle"><br></td>
      <td style="font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px">
        
            <p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">Hi Mahitosh,</p><p style="Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c">This is a friendly reminder that the due date to return 'string' is approaching. Please ensure that you return the book by 05 May 2025 to avoid any late fees. 📅<br><br>If you need more time, consider renewing your book through our online portal or by contacting us.<br><br>Thank you, and happy reading! 😊</p><p>Best regards,</p><p>LibraryMan</p>        
      </td>
      <td width="10" valign="middle"><br></td>
    </tr>
    <tr>
      <td height="30"><br></td>
    </tr>
  </tbody></table><div class="yj6qo"></div><div class="adL">

</div></div>
2025-04-21 17:27:47 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(4063789<open>)]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(4063789<open>)] after transaction
2025-04-21 17:27:47 [task-9] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#35]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#35]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1444837470<open>)]
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(627190492<open>)] for JPA transaction
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2dd8629b]
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1444837470<open>)] after transaction
2025-04-21 17:27:47 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [task-2] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#36]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#36]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1817783152<open>)] for JPA transaction
2025-04-21 17:27:47 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@49ced083]
2025-04-21 17:27:47 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(627190492<open>)]
2025-04-21 17:27:47 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:27:47 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(627190492<open>)] after transaction
2025-04-21 17:27:47 [task-2] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:27:47 [task-9] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#35]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#35]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:27:47 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1817783152<open>)]
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:27:47 [task-2] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:27:48 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1817783152<open>)] after transaction
2025-04-21 17:27:48 [task-2] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#36]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy12/jdk.proxy12.$Proxy286.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:35)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#36]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy12/jdk.proxy12.$Proxy275.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:46:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-04-21 17:46:08 [Thread-22] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 17:46:08 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:46:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 17:46:09 [Thread-22] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 17:46:09 [Thread-22] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:46:09 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-04-21 17:46:09 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-04-21 17:46:10 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 34260 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 17:46:10 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 17:46:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 17:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 13 JPA repository interfaces.
2025-04-21 17:46:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 17:46:12 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:46:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 17:46:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 17:46:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 17:46:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2124 ms
2025-04-21 17:46:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 17:46:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 17:46:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 17:46:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-04-21 17:46:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9ad5d20
2025-04-21 17:46:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-04-21 17:46:13 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 17:46:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 17:46:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:46:14 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 17:46:15 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 6: Error creating bean with name 'userServiceImp' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\servicesImp\UserServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 3: No qualifying bean of type 'org.librarymanagementsystem.utils.EmailService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-21 17:46:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:46:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-04-21 17:46:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-04-21 17:46:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-21 17:46:15 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 17:46:16 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 3 of constructor in org.librarymanagementsystem.servicesImp.UserServiceImp required a bean of type 'org.librarymanagementsystem.utils.EmailService' that could not be found.


Action:

Consider defining a bean of type 'org.librarymanagementsystem.utils.EmailService' in your configuration.

2025-04-21 17:46:37 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-21 17:46:37 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 24252 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 17:46:37 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 17:46:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-21 17:46:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-21 17:46:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 17:46:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 264 ms. Found 13 JPA repository interfaces.
2025-04-21 17:46:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 17:46:43 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 17:46:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 17:46:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 17:46:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 17:46:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5012 ms
2025-04-21 17:46:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 17:46:43 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-21 17:46:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 17:46:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 17:46:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-21 17:46:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a634f43
2025-04-21 17:46:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-21 17:46:45 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 17:46:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 17:46:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 17:46:48 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 17:46:50 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 17:46:50 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 17:46:51 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 17:46:51 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:51 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 17:46:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 17:46:52 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 17:46:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 17:46:52 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 15.772 seconds (process running for 17.162)
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2089716298<open>)] for JPA transaction
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b97f697]
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2089716298<open>)] for JPA transaction
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2089716298<open>)] for JPA transaction
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2089716298<open>)] for JPA transaction
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2089716298<open>)]
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:46:52 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2089716298<open>)] after transaction
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/refresh
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:39 [http-nio-5001-exec-2] ERROR o.l.security.jwt.AuthTokenFilter - Cannot set user authentication
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.controller.AuthController - refreshTokenHeader--Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.controller.AuthController - storedToken-- eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2097406293<open>)] for JPA transaction
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63e3d008]
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2097406293<open>)]
2025-04-21 17:47:39 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:39 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:47:39 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refreshes rt1_0 where rt1_0.token=?
2025-04-21 17:47:39 [http-nio-5001-exec-2] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 9779 milliseconds ago at 2025-04-21T12:17:30.000Z. Current time: 2025-04-21T12:17:39.779Z. Allowed clock skew: 0 milliseconds.
2025-04-21 17:47:39 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh, Status=403
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/refresh
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:42 [http-nio-5001-exec-4] ERROR o.l.security.jwt.AuthTokenFilter - Cannot set user authentication
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.controller.AuthController - refreshTokenHeader--Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.controller.AuthController - storedToken-- eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(256056165<open>)] for JPA transaction
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@184e4fd]
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(256056165<open>)]
2025-04-21 17:47:42 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:42 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:47:42 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refreshes rt1_0 where rt1_0.token=?
2025-04-21 17:47:42 [http-nio-5001-exec-4] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 12606 milliseconds ago at 2025-04-21T12:17:30.000Z. Current time: 2025-04-21T12:17:42.606Z. Allowed clock skew: 0 milliseconds.
2025-04-21 17:47:42 [http-nio-5001-exec-4] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh, Status=403
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/refresh
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:50 [http-nio-5001-exec-3] ERROR o.l.security.jwt.AuthTokenFilter - Cannot set user authentication
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - refreshTokenHeader--Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - storedToken-- eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1259872591<open>)] for JPA transaction
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@45dfc65c]
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1259872591<open>)]
2025-04-21 17:47:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:47:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refreshes rt1_0 where rt1_0.token=?
2025-04-21 17:47:50 [http-nio-5001-exec-3] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 20177 milliseconds ago at 2025-04-21T12:17:30.000Z. Current time: 2025-04-21T12:17:50.177Z. Allowed clock skew: 0 milliseconds.
2025-04-21 17:47:50 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh, Status=403
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM2MDUwLCJleHAiOjE3NDUyMzc4NTB9.QZjj9Gqer0EOfbY6zjZhdXm-26geb3QyYIBKK4mc1gs
2025-04-21 17:48:03 [http-nio-5001-exec-8] ERROR o.l.security.jwt.AuthTokenFilter - Cannot set user authentication
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 17:48:03 [http-nio-5001-exec-8] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79d33222]
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(742710334<open>)]
2025-04-21 17:48:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:48:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:48:04 [http-nio-5001-exec-8] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77dc33fe]
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(742710334<open>)]
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(742710334<open>)] for JPA transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b78a214]
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(742710334<open>)]
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 17:48:04 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 17:48:04 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:48:04 [http-nio-5001-exec-8] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1391474221<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@312c4305]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1391474221<open>)]
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1391474221<open>)] after transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1212612001<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35d2da2a]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1212612001<open>)]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1212612001<open>)] after transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(422562451<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4769b7b4]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(422562451<open>)]
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(422562451<open>)] after transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@588ecebb]
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:48:24 [http-nio-5001-exec-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@732c965f
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(757841308<open>)] for JPA transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 17:48:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 17:48:24 [task-1] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@732c965f
2025-04-21 17:48:25 [http-nio-5001-exec-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@1bea7bed
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1083032097<open>)] for JPA transaction
2025-04-21 17:48:25 [task-3] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@1bea7bed
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(757841308<open>)]
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a39abd4]
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(271122806<open>)] for JPA transaction
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@141697ab]
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 17:48:25 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(271122806<open>)]
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1083032097<open>)]
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1083032097<open>)] after transaction
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(271122806<open>)] after transaction
2025-04-21 17:48:25 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 17:48:25 [task-1] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#37]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#37]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:48:25 [task-3] ERROR o.l.servicesImp.EmailServicesImp - Failed to send notification email
org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#38]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#38]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1325057423<open>)] for JPA transaction
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1027105332<open>)] for JPA transaction
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1569fc24]
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2cbc8e27]
2025-04-21 17:48:25 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 17:48:25 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:48:25 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1027105332<open>)]
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1325057423<open>)]
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 17:48:25 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 17:48:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1027105332<open>)] after transaction
2025-04-21 17:48:25 [task-1] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#37]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:36)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#37]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 17:48:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1325057423<open>)] after transaction
2025-04-21 17:48:25 [task-3] ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.librarymanagementsystem.servicesImp.EmailServicesImp.send(java.lang.String,java.lang.String,java.lang.String,org.librarymanagementsystem.model.Notification)
java.lang.IllegalStateException: Failed to send notification email
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#38]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy179.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.EmailServicesImp.send(EmailServicesImp.java:36)
	... 10 common frames omitted
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [org.librarymanagementsystem.model.Notification#38]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy159.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:639)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 29 common frames omitted
2025-04-21 18:12:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-04-21 18:12:58 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:12:58 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:12:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 18:12:58 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 18:12:58 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:12:58 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-21 18:12:58 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-21 18:13:00 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 24252 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:13:00 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:13:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:13:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 217 ms. Found 13 JPA repository interfaces.
2025-04-21 18:13:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:13:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3502 ms
2025-04-21 18:13:04 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:13:04 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:13:04 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:13:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-04-21 18:13:04 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3377238f
2025-04-21 18:13:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-04-21 18:13:04 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:13:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:13:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:13:06 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:13:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:13:07 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 18:13:07 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 18:13:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 18:13:07 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 7.796 seconds (process running for 1592.666)
2025-04-21 18:13:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:13:07 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:13:07 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(299369289<open>)] for JPA transaction
2025-04-21 18:13:07 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28755d14]
2025-04-21 18:13:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 18:13:08 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(299369289<open>)] for JPA transaction
2025-04-21 18:13:08 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:13:08 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:13:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:13:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-04-21 18:13:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-04-21 18:13:12 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-21 18:13:13 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:13:13 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:13:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-21 18:13:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-21 18:13:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:13:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 301 ms. Found 13 JPA repository interfaces.
2025-04-21 18:13:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:13:18 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:13:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:13:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:13:18 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:13:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5085 ms
2025-04-21 18:13:18 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:13:19 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-21 18:13:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:13:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:13:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-21 18:13:20 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4971a7c1
2025-04-21 18:13:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-21 18:13:20 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:13:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:13:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:13:23 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:13:24 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:13:25 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:13:25 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 18:13:26 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:13:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 18:13:26 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 18:13:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 18:13:26 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 15.025 seconds (process running for 16.523)
2025-04-21 18:13:26 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:13:26 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1290238631<open>)] for JPA transaction
2025-04-21 18:13:26 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b0995f6]
2025-04-21 18:13:26 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1290238631<open>)] for JPA transaction
2025-04-21 18:13:26 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1290238631<open>)] for JPA transaction
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1290238631<open>)] for JPA transaction
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1290238631<open>)]
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:13:27 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1290238631<open>)] after transaction
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 18:13:58 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 18:13:58 [http-nio-5001-exec-2] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 354336 milliseconds ago at 2025-04-21T12:38:04.000Z. Current time: 2025-04-21T12:43:58.336Z. Allowed clock skew: 0 milliseconds.
2025-04-21 18:13:58 [http-nio-5001-exec-2] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM3ODg0LCJleHAiOjE3NDUyMzkwODR9.xRnsiGaZ7fZsjNi333v-JtvEG0563AaQ8Pa5c0g5YFM
2025-04-21 18:14:04 [http-nio-5001-exec-3] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 360364 milliseconds ago at 2025-04-21T12:38:04.000Z. Current time: 2025-04-21T12:44:04.364Z. Allowed clock skew: 0 milliseconds.
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 18:14:04 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10fa6360]
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2098107714<open>)]
2025-04-21 18:14:04 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:04 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 18:14:04 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:14:05 [http-nio-5001-exec-3] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e9e2d40]
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2098107714<open>)]
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2098107714<open>)] for JPA transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34e7f26c]
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2098107714<open>)]
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 18:14:05 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 18:14:05 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:05 [http-nio-5001-exec-3] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 18:14:25 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:14:25 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:25 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(712911416<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4717a4a6]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(712911416<open>)]
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(712911416<open>)] after transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1562038752<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3c112c92]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1562038752<open>)]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1562038752<open>)] after transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(175229606<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2e70bce7]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(175229606<open>)]
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(175229606<open>)] after transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:14:25 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@612d02af]
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1925178890<open>)] for JPA transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1925178890<open>)]
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:25 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(568106609<open>)] for JPA transaction
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1417433032<open>)] for JPA transaction
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b2afe81]
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5abbbb37]
2025-04-21 18:14:25 [task-1] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:25 [task-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(568106609<open>)]
2025-04-21 18:14:25 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:25 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1417433032<open>)]
2025-04-21 18:14:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:25 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:25 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(568106609<open>)] after transaction
2025-04-21 18:14:25 [task-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@66cdf166
2025-04-21 18:14:25 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1417433032<open>)] after transaction
2025-04-21 18:14:25 [task-1] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5e8424b8
2025-04-21 18:14:25 [task-4] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@5e8424b8
2025-04-21 18:14:25 [task-3] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@66cdf166
2025-04-21 18:14:25 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(821172477<open>)] for JPA transaction
2025-04-21 18:14:25 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33af805f]
2025-04-21 18:14:25 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(647824017<open>)] for JPA transaction
2025-04-21 18:14:25 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a06eebd]
2025-04-21 18:14:25 [task-4] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:25 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:25 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:25 [task-4] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:26 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:26 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(821172477<open>)]
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(647824017<open>)]
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:26 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:26 [task-4] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:26 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:26 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:26 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(821172477<open>)] after transaction
2025-04-21 18:14:26 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(647824017<open>)] after transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:14:39 [http-nio-5001-exec-8] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:39 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1168101229<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4b5839ae]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1168101229<open>)]
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1168101229<open>)] after transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(915784778<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@125aaa91]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(915784778<open>)]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(915784778<open>)] after transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1453479664<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79bf061]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1453479664<open>)]
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1453479664<open>)] after transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:14:39 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ec05f0a]
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2099434564<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2099434564<open>)]
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1974597328<open>)] for JPA transaction
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1922283696<open>)] for JPA transaction
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b760616]
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c545892]
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:39 [task-8] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:39 [task-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1974597328<open>)]
2025-04-21 18:14:39 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1922283696<open>)]
2025-04-21 18:14:39 [task-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1974597328<open>)] after transaction
2025-04-21 18:14:39 [task-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@7f499da0
2025-04-21 18:14:39 [task-9] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@7f499da0
2025-04-21 18:14:39 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1922283696<open>)] after transaction
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [task-8] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@786bd3c0
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(322659526<open>)] for JPA transaction
2025-04-21 18:14:39 [task-2] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@786bd3c0
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1416549846<open>)] for JPA transaction
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1704e279]
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d40f74d]
2025-04-21 18:14:39 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:39 [task-2] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:39 [task-2] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:39 [task-9] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1416549846<open>)]
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(322659526<open>)]
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:39 [task-2] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:39 [task-9] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:39 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1416549846<open>)] after transaction
2025-04-21 18:14:39 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(322659526<open>)] after transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:14:40 [http-nio-5001-exec-10] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:40 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(8428606<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e47725e]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(8428606<open>)]
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(8428606<open>)] after transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1455918966<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@770495e6]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1455918966<open>)]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1455918966<open>)] after transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(622912679<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@631761d8]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(622912679<open>)]
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(622912679<open>)] after transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:14:40 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@656ba9a8]
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1835779338<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1835779338<open>)]
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(503216266<open>)] for JPA transaction
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1526067648<open>)] for JPA transaction
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@306f795d]
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d663b20]
2025-04-21 18:14:40 [task-3] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:40 [task-4] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:40 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1526067648<open>)]
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(503216266<open>)]
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(503216266<open>)] after transaction
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1526067648<open>)] after transaction
2025-04-21 18:14:40 [task-3] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@6215c83f
2025-04-21 18:14:40 [task-4] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@465d7fd7
2025-04-21 18:14:40 [task-3] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@465d7fd7
2025-04-21 18:14:40 [task-7] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@6215c83f
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1391235251<open>)] for JPA transaction
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1904280790<open>)] for JPA transaction
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4fb03fb2]
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@14e60530]
2025-04-21 18:14:40 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:40 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:40 [task-7] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:40 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1904280790<open>)]
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1391235251<open>)]
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:40 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:40 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1904280790<open>)] after transaction
2025-04-21 18:14:40 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1391235251<open>)] after transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:14:41 [http-nio-5001-exec-9] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:41 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1839345182<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6365cdda]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1839345182<open>)]
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1839345182<open>)] after transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2038699680<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@64cae450]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2038699680<open>)]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2038699680<open>)] after transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(920455989<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11cdaa24]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(920455989<open>)]
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(920455989<open>)] after transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:14:41 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7eae634e]
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1311581533<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1311581533<open>)]
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1077962608<open>)] for JPA transaction
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1929880522<open>)] for JPA transaction
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46056527]
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c83ff47]
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:14:41 [task-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:41 [task-6] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1077962608<open>)]
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1929880522<open>)]
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1077962608<open>)] after transaction
2025-04-21 18:14:41 [task-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1929880522<open>)] after transaction
2025-04-21 18:14:41 [task-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@4fef05ce
2025-04-21 18:14:41 [task-6] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@4a4c2163
2025-04-21 18:14:41 [task-5] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@4a4c2163
2025-04-21 18:14:41 [task-4] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@4fef05ce
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(276267244<open>)] for JPA transaction
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(169379580<open>)] for JPA transaction
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b297735]
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@760803b4]
2025-04-21 18:14:41 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:41 [task-4] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:14:41 [task-5] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:41 [task-4] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(276267244<open>)]
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(169379580<open>)]
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:14:41 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:14:41 [task-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:41 [task-4] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:14:41 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(276267244<open>)] after transaction
2025-04-21 18:14:41 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(169379580<open>)] after transaction
2025-04-21 18:23:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-21 18:23:35 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:23:36 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:23:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 18:23:36 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 18:23:36 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:23:36 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-21 18:23:36 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-21 18:23:37 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:23:37 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:23:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:23:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 13 JPA repository interfaces.
2025-04-21 18:23:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:23:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:23:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:23:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:23:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:23:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3369 ms
2025-04-21 18:23:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:23:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:23:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:23:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-04-21 18:23:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68b097f3
2025-04-21 18:23:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-04-21 18:23:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:23:42 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:23:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:23:42 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:23:42 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookBorrowController' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\controller\BookBorrowController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.librarymanagementsystem.services.BookBorrowService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-21 18:23:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:23:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-04-21 18:23:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-04-21 18:23:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-21 18:23:42 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 18:23:43 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in org.librarymanagementsystem.controller.BookBorrowController required a bean of type 'org.librarymanagementsystem.services.BookBorrowService' that could not be found.


Action:

Consider defining a bean of type 'org.librarymanagementsystem.services.BookBorrowService' in your configuration.

2025-04-21 18:23:44 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:23:44 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:23:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:23:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 101 ms. Found 13 JPA repository interfaces.
2025-04-21 18:23:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:23:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:23:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:23:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:23:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:23:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1285 ms
2025-04-21 18:23:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:23:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:23:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:23:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-04-21 18:23:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@694d1348
2025-04-21 18:23:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-04-21 18:23:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:23:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:23:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:23:46 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:23:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:23:47 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 18:23:47 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:23:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 18:23:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 18:23:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 18:23:47 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 3.125 seconds (process running for 637.245)
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(979341980<open>)] for JPA transaction
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@623a5da5]
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(979341980<open>)] for JPA transaction
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(979341980<open>)] for JPA transaction
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(979341980<open>)] for JPA transaction
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(979341980<open>)]
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:23:47 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(979341980<open>)] after transaction
2025-04-21 18:23:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjM5NDQ1LCJleHAiOjE3NDUyNDA2NDV9.BRYkDbxF525CschcWl9KfB_mY_O9NevzyqysPBsv4Aw
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1941075784<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@778dede6]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1941075784<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1941075784<open>)] after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1644198415<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29397bd2]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1644198415<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1644198415<open>)] after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(503930369<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7735e013]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(503930369<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(503930369<open>)] after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Mahitosh, Method=POST, Table=v1, Action=api
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3752efe9]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1764308998<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b2017cb]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1764308998<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1764308998<open>)] for JPA transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6ae0c662]
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1764308998<open>)]
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 18:24:05 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 18:24:05 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:05 [http-nio-5001-exec-2] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 18:24:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 18:24:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:24:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1899421107<open>)] for JPA transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ff12de5]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1899421107<open>)]
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1899421107<open>)] after transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(987846534<open>)] for JPA transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28805eb3]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(987846534<open>)]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(987846534<open>)] after transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(204272419<open>)] for JPA transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@43b04911]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(204272419<open>)]
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(204272419<open>)] after transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:24:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:24:50 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(148755234<open>)] for JPA transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b151a75]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(148755234<open>)]
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(148755234<open>)] for JPA transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@97d1b27]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(148755234<open>)]
2025-04-21 18:24:50 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:50 [http-nio-5001-exec-3] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Book not found
2025-04-21 18:24:50 [http-nio-5001-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Book not found]
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1013379771<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32a10b47]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1013379771<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1013379771<open>)] after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(909544385<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79c044ea]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(909544385<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(909544385<open>)] after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2107728377<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cbbfabf]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2107728377<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2107728377<open>)] after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35cee65b]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11efc788]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6209c687]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@47c6bcd5]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5fe3e7a8]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fdb1ae4]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@681d9192]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ab3f640]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@7e1aa405
2025-04-21 18:24:56 [task-1] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@7e1aa405
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1432276570<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1885837610<open>)] for JPA transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18217a5a]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@745813fe]
2025-04-21 18:24:56 [task-1] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:24:56 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1885837610<open>)]
2025-04-21 18:24:56 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:24:56 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:24:56 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1885837610<open>)] after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback after commit exception
org.springframework.orm.jpa.JpaSystemException: identifier of an instance of org.librarymanagementsystem.model.Notification was altered from 48 to 47
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy230.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy8/jdk.proxy8.$Proxy230.save(Unknown Source)
	at org.librarymanagementsystem.servicesImp.NotificationServiceImp.bookReturnedNotification(NotificationServiceImp.java:118)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216)
	at jdk.proxy8/jdk.proxy8.$Proxy232.bookReturnedNotification(Unknown Source)
	at org.librarymanagementsystem.servicesImp.BookBorrowImp.createReturnBook(BookBorrowImp.java:116)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at org.librarymanagementsystem.servicesImp.BookBorrowImp$$SpringCGLIB$$0.createReturnBook(<generated>)
	at org.librarymanagementsystem.controller.BookBorrowController.BookReturn(BookBorrowController.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.librarymanagementsystem.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.HibernateException: identifier of an instance of org.librarymanagementsystem.model.Notification was altered from 48 to 47
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:98)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:182)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:141)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:269)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:90)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:84)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 133 common frames omitted
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1432276570<open>)]
2025-04-21 18:24:56 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:24:56 [http-nio-5001-exec-4] ERROR o.l.e.MyGlobalExceptionHandler - Exception---- identifier of an instance of org.librarymanagementsystem.model.Notification was altered from 48 to 47
2025-04-21 18:24:56 [http-nio-5001-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.orm.jpa.JpaSystemException: identifier of an instance of org.librarymanagementsystem.model.Notification was altered from 48 to 47]
2025-04-21 18:34:18 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-04-21 18:34:18 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:34:18 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:34:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 18:34:18 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 18:34:18 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:34:18 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-04-21 18:34:18 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-04-21 18:34:18 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:34:18 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:34:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:34:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 251 ms. Found 13 JPA repository interfaces.
2025-04-21 18:34:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:34:21 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:34:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:34:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:34:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:34:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2931 ms
2025-04-21 18:34:22 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:34:22 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:34:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:34:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-04-21 18:34:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@332eb9d2
2025-04-21 18:34:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-04-21 18:34:22 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:34:24 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:34:24 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:34:25 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:34:25 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookBorrowController' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\controller\BookBorrowController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookBorrowImp' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\servicesImp\BookBorrowImp.class]: Unsatisfied dependency expressed through constructor parameter 5: No qualifying bean of type 'org.librarymanagementsystem.services.NotificationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-21 18:34:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:34:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-04-21 18:34:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-04-21 18:34:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-21 18:34:25 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 18:34:25 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of constructor in org.librarymanagementsystem.servicesImp.BookBorrowImp required a bean of type 'org.librarymanagementsystem.services.NotificationService' that could not be found.


Action:

Consider defining a bean of type 'org.librarymanagementsystem.services.NotificationService' in your configuration.

2025-04-21 18:34:29 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:34:29 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:34:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:34:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 115 ms. Found 13 JPA repository interfaces.
2025-04-21 18:34:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:34:30 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:34:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:34:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:34:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:34:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1467 ms
2025-04-21 18:34:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:34:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:34:31 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:34:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-04-21 18:34:31 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f08b51
2025-04-21 18:34:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-04-21 18:34:31 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:34:31 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:34:31 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:34:32 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:34:32 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:34:33 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 18:34:33 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:34:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 18:34:33 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 18:34:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 18:34:33 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 4.132 seconds (process running for 1283.037)
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(375014866<open>)] for JPA transaction
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2cc133d1]
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(375014866<open>)] for JPA transaction
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(375014866<open>)] for JPA transaction
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(375014866<open>)] for JPA transaction
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(375014866<open>)]
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:33 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(375014866<open>)] after transaction
2025-04-21 18:34:33 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(336921774<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@102a82f4]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(336921774<open>)]
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(336921774<open>)] after transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(531590071<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@70b5fadb]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(531590071<open>)]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(531590071<open>)] after transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(742399173<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c7709e1]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(742399173<open>)]
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(742399173<open>)] after transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:34:59 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17d6d84f]
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2085901361<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2085901361<open>)]
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(831085189<open>)] for JPA transaction
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(780765520<open>)] for JPA transaction
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f4eb2c4]
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@204e72f1]
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:34:59 [task-1] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:34:59 [task-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:34:59 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(780765520<open>)]
2025-04-21 18:34:59 [task-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(831085189<open>)]
2025-04-21 18:34:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(780765520<open>)] after transaction
2025-04-21 18:34:59 [task-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@2471e220
2025-04-21 18:34:59 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(831085189<open>)] after transaction
2025-04-21 18:34:59 [task-1] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@7e73b8ff
2025-04-21 18:34:59 [task-4] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@7e73b8ff
2025-04-21 18:34:59 [task-3] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@2471e220
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(29418974<open>)] for JPA transaction
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(485902159<open>)] for JPA transaction
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ff713e]
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5dcb4d74]
2025-04-21 18:34:59 [task-4] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:34:59 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:34:59 [task-4] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:34:59 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(29418974<open>)]
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-4] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:34:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(29418974<open>)] after transaction
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(485902159<open>)]
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:34:59 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:34:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(485902159<open>)] after transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:35:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:35:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1025086634<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33de7d79]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1025086634<open>)]
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1025086634<open>)] after transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(652021019<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d062748]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(652021019<open>)]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(652021019<open>)] after transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2065923588<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67969933]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2065923588<open>)]
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2065923588<open>)] after transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:35:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:35:01 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(936923613<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d2dd6f9]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(936923613<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(936923613<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(936923613<open>)] for JPA transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(936923613<open>)]
2025-04-21 18:35:01 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:35:01 [http-nio-5001-exec-2] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Not enough copies available
2025-04-21 18:35:01 [http-nio-5001-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Not enough copies available]
2025-04-21 18:35:02 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:35:02 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:35:02 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1193337804<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@49e70558]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1193337804<open>)]
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1193337804<open>)] after transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1139357650<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a42795d]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1139357650<open>)]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1139357650<open>)] after transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(185271912<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12ae4bb0]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(185271912<open>)]
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(185271912<open>)] after transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:35:02 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:35:02 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046508366<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5865faf5]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046508366<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046508366<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046508366<open>)] for JPA transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2046508366<open>)]
2025-04-21 18:35:02 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:35:02 [http-nio-5001-exec-3] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Not enough copies available
2025-04-21 18:35:02 [http-nio-5001-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Not enough copies available]
2025-04-21 18:36:48 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:36:48 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:36:48 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1138216427<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d103be1]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1138216427<open>)]
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1138216427<open>)] after transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(596414281<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@326a9a98]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(596414281<open>)]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(596414281<open>)] after transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(421364296<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35967940]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(421364296<open>)]
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(421364296<open>)] after transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:36:48 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@58a639c1]
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(725389005<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(725389005<open>)]
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1506253748<open>)] for JPA transaction
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(511414710<open>)] for JPA transaction
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1483fac6]
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57006efc]
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:48 [task-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:36:48 [task-8] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(511414710<open>)]
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1506253748<open>)]
2025-04-21 18:36:48 [task-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:36:48 [task-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(511414710<open>)] after transaction
2025-04-21 18:36:48 [task-8] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@51817632
2025-04-21 18:36:48 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1506253748<open>)] after transaction
2025-04-21 18:36:48 [task-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@533ff0c4
2025-04-21 18:36:48 [task-10] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@533ff0c4
2025-04-21 18:36:48 [task-9] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@51817632
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(549005262<open>)] for JPA transaction
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1904985365<open>)] for JPA transaction
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75b44ffc]
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2486b701]
2025-04-21 18:36:48 [task-10] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:36:48 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:36:48 [task-10] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:36:48 [task-9] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1904985365<open>)]
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(549005262<open>)]
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:48 [task-9] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:36:48 [task-10] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:36:48 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(549005262<open>)] after transaction
2025-04-21 18:36:48 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1904985365<open>)] after transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 18:36:51 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:36:51 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1807615296<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6579f647]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1807615296<open>)]
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1807615296<open>)] after transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(723566983<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12dc06b9]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(723566983<open>)]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(723566983<open>)] after transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1432889243<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f704eb2]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1432889243<open>)]
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1432889243<open>)] after transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:36:51 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@147048aa]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(42456262<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(42456262<open>)]
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(341788417<open>)] for JPA transaction
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1415186438<open>)] for JPA transaction
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a9dfcfd]
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a98abfa]
2025-04-21 18:36:51 [task-13] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:36:51 [task-14] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1415186438<open>)]
2025-04-21 18:36:51 [task-13] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-13] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(341788417<open>)]
2025-04-21 18:36:51 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:36:51 [task-14] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-14] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-13] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1415186438<open>)] after transaction
2025-04-21 18:36:51 [task-13] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5ea26376
2025-04-21 18:36:51 [task-14] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(341788417<open>)] after transaction
2025-04-21 18:36:51 [task-14] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@1ea72c71
2025-04-21 18:36:51 [task-15] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@5ea26376
2025-04-21 18:36:51 [task-16] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@1ea72c71
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(790208018<open>)] for JPA transaction
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1848653953<open>)] for JPA transaction
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21de6581]
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@60f7db37]
2025-04-21 18:36:51 [task-16] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:36:51 [task-15] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:36:51 [task-15] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:36:51 [task-16] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1848653953<open>)]
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(790208018<open>)]
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-15] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-16] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:36:51 [task-15] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:36:51 [task-16] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:36:51 [task-15] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(790208018<open>)] after transaction
2025-04-21 18:36:51 [task-16] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1848653953<open>)] after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(261244957<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@155b79f]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(261244957<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(261244957<open>)] after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(978873250<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5cb96e81]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(978873250<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(978873250<open>)] after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(975306756<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@26971699]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(975306756<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(975306756<open>)] after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d3b486d]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d7f3ab4]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e1c5f4b]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6863e95a]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4874a450]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4aaa14d0]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d14b2b4]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67f2236]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a946375]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@31d47fd8
2025-04-21 18:37:21 [task-9] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@31d47fd8
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1566186728<open>)] for JPA transaction
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@31833b78]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:37:21 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:37:21 [task-9] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1566186728<open>)]
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [task-9] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:37:21 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1566186728<open>)] after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e80114c]
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1654058715<open>)] for JPA transaction
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37a0d56b]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1654058715<open>)]
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:37:21 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(505830458<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10e1a18e]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(505830458<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(505830458<open>)] after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2052292711<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@513df2a9]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2052292711<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2052292711<open>)] after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1822505410<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6ececbf5]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1822505410<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1822505410<open>)] after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7d7ef588]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7d69af79]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61c59242]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b90cb34]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@755716a4]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d2af332]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37085061]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@471bcdd0]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@514c3253]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@242fb09f
2025-04-21 18:41:14 [task-17] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@242fb09f
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1423596176<open>)] for JPA transaction
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50e5d4d3]
2025-04-21 18:41:14 [task-17] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:41:14 [task-17] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1423596176<open>)]
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [task-17] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [task-17] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:41:14 [task-17] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1423596176<open>)] after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@509b6d71]
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(553721840<open>)] for JPA transaction
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e057426]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(553721840<open>)]
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:14 [http-nio-5001-exec-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:41:24 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-21 18:41:24 [Thread-14] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:41:24 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:41:24 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 18:41:24 [Thread-14] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 18:41:27 [Thread-14] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:41:27 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-04-21 18:41:28 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-04-21 18:41:29 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 18:41:29 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 18:41:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:41:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 161 ms. Found 13 JPA repository interfaces.
2025-04-21 18:41:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 18:41:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 18:41:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 18:41:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 18:41:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 18:41:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2237 ms
2025-04-21 18:41:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:41:32 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 18:41:32 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:41:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-04-21 18:41:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d1f5106
2025-04-21 18:41:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-04-21 18:41:32 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:41:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:41:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:41:34 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 18:41:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:41:34 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 18:41:34 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:34 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 18:41:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 18:41:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 18:41:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 18:41:35 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 5.705 seconds (process running for 1704.831)
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1212553362<open>)] for JPA transaction
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4595f63b]
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1212553362<open>)] for JPA transaction
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1212553362<open>)] for JPA transaction
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1212553362<open>)] for JPA transaction
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1212553362<open>)]
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:41:35 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1212553362<open>)] after transaction
2025-04-21 18:41:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1212417899<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c7b8abb]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1212417899<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1212417899<open>)] after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(456329543<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2da9abb9]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(456329543<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(456329543<open>)] after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(934070583<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56d79b9a]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(934070583<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(934070583<open>)] after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@414ac5fe]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69ffb4f6]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@455c7c5c]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1130b90a]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28013d45]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4168b6d4]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18a7af88]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@496f4d5c]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3bddc399]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@28154a51
2025-04-21 18:42:47 [task-1] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@28154a51
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1646456956<open>)] for JPA transaction
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@661d68e0]
2025-04-21 18:42:47 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 18:42:47 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1646456956<open>)]
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:42:47 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1646456956<open>)] after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@74cf25d1]
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(235380671<open>)] for JPA transaction
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2b474c79]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(235380671<open>)]
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 18:42:47 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/refresh
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:30 [http-nio-5001-exec-1] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 1285509 milliseconds ago at 2025-04-21T13:14:05.000Z. Current time: 2025-04-21T13:35:30.509Z. Allowed clock skew: 0 milliseconds.
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/refresh
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.controller.AuthController - refreshTokenHeader--Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:30 [http-nio-5001-exec-1] INFO  o.l.controller.AuthController - storedToken-- eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(865964907<open>)] for JPA transaction
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7da22729]
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(865964907<open>)]
2025-04-21 19:05:30 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:30 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:30 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refreshes rt1_0 where rt1_0.token=?
2025-04-21 19:05:30 [http-nio-5001-exec-1] ERROR o.l.e.MyGlobalExceptionHandler - Exception---- 403 FORBIDDEN "Invalid or Expired Refresh Token"
2025-04-21 19:05:30 [http-nio-5001-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.server.ResponseStatusException: 403 FORBIDDEN "Invalid or Expired Refresh Token"]
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQwMDQ1LCJleHAiOjE3NDUyNDEyNDV9.zhqaNr48CFenDBQ_3UWJuuDvgpYLHHq2R7Gzk0g3NRQ
2025-04-21 19:05:35 [http-nio-5001-exec-6] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 1290508 milliseconds ago at 2025-04-21T13:14:05.000Z. Current time: 2025-04-21T13:35:35.508Z. Allowed clock skew: 0 milliseconds.
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 19:05:35 [http-nio-5001-exec-6] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@49d4824]
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1100992115<open>)]
2025-04-21 19:05:35 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:35 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 19:05:35 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:05:36 [http-nio-5001-exec-6] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@164f9583]
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1100992115<open>)]
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1100992115<open>)] for JPA transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72898aa1]
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1100992115<open>)]
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 19:05:36 [http-nio-5001-exec-6] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 19:05:36 [http-nio-5001-exec-6] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:36 [http-nio-5001-exec-6] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 19:05:59 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 19:05:59 [http-nio-5001-exec-10] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:05:59 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(136475791<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6e58bfb]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(136475791<open>)]
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(136475791<open>)] after transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(736281349<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79f5c072]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(736281349<open>)]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(736281349<open>)] after transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1923211934<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@325ecd5]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1923211934<open>)]
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1923211934<open>)] after transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:05:59 [http-nio-5001-exec-10] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f6d240b]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1511913804<open>)] for JPA transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1511913804<open>)]
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [http-nio-5001-exec-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(83846891<open>)] for JPA transaction
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1997154955<open>)] for JPA transaction
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7df241fb]
2025-04-21 19:05:59 [http-nio-5001-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:05:59 [task-3] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a389804]
2025-04-21 19:05:59 [task-4] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1997154955<open>)]
2025-04-21 19:05:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(83846891<open>)]
2025-04-21 19:05:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1997154955<open>)] after transaction
2025-04-21 19:05:59 [task-3] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@38f0c021
2025-04-21 19:05:59 [task-5] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@38f0c021
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(741461039<open>)] for JPA transaction
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@280e4d71]
2025-04-21 19:05:59 [task-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(83846891<open>)] after transaction
2025-04-21 19:05:59 [task-4] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@e070d9b
2025-04-21 19:05:59 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:05:59 [task-7] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@e070d9b
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1596451222<open>)] for JPA transaction
2025-04-21 19:05:59 [task-5] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b1876aa]
2025-04-21 19:05:59 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(741461039<open>)]
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:05:59 [task-7] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1596451222<open>)]
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:05:59 [task-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:05:59 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(741461039<open>)] after transaction
2025-04-21 19:05:59 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1596451222<open>)] after transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 19:06:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2014628282<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76d328c8]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2014628282<open>)]
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2014628282<open>)] after transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1578259319<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@838abce]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1578259319<open>)]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1578259319<open>)] after transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1565460435<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12888205]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1565460435<open>)]
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1565460435<open>)] after transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:06:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:06:01 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3761980]
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:01 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2106275318<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2106275318<open>)]
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1360201523<open>)] for JPA transaction
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1664792034<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6dfd47f5]
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5fd4e361]
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-4] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [task-9] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:02 [task-10] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1360201523<open>)]
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1664792034<open>)]
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [http-nio-5001-exec-4] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:06:02 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1664792034<open>)] after transaction
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1360201523<open>)] after transaction
2025-04-21 19:06:02 [task-9] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@69c2de92
2025-04-21 19:06:02 [task-10] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5beb6c43
2025-04-21 19:06:02 [task-12] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@5beb6c43
2025-04-21 19:06:02 [task-11] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@69c2de92
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1275205864<open>)] for JPA transaction
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(162279472<open>)] for JPA transaction
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76bdf75]
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42c5ef18]
2025-04-21 19:06:02 [task-11] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:02 [task-12] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:02 [task-11] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:02 [task-12] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(162279472<open>)]
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1275205864<open>)]
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-11] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-12] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-12] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:02 [task-11] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:02 [task-11] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1275205864<open>)] after transaction
2025-04-21 19:06:02 [task-12] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(162279472<open>)] after transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 19:06:02 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:02 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1187305197<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48033045]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1187305197<open>)]
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1187305197<open>)] after transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1374968086<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5252e4f4]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1374968086<open>)]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1374968086<open>)] after transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(263561206<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4895ea1b]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(263561206<open>)]
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(263561206<open>)] after transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:06:02 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@247d488b]
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(476451876<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(476451876<open>)]
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1503205151<open>)] for JPA transaction
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(826210553<open>)] for JPA transaction
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2daf5b61]
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28e34972]
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [http-nio-5001-exec-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:02 [task-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:02 [task-5] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1503205151<open>)]
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(826210553<open>)]
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [http-nio-5001-exec-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:06:02 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1503205151<open>)] after transaction
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(826210553<open>)] after transaction
2025-04-21 19:06:02 [task-5] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@4081674a
2025-04-21 19:06:02 [task-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@3ef0ed67
2025-04-21 19:06:02 [task-5] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@3ef0ed67
2025-04-21 19:06:02 [task-10] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@4081674a
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2133368178<open>)] for JPA transaction
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(552558552<open>)] for JPA transaction
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@167b83e8]
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@129b5e94]
2025-04-21 19:06:02 [task-10] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:02 [task-5] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:02 [task-10] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:02 [task-5] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(552558552<open>)]
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-10] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-10] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2133368178<open>)]
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-5] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:02 [task-5] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:02 [task-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(552558552<open>)] after transaction
2025-04-21 19:06:02 [task-5] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2133368178<open>)] after transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/borrow
2025-04-21 19:06:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(862063331<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3da5e2ff]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(862063331<open>)]
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(862063331<open>)] after transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(42771558<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c138cf6]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(42771558<open>)]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(42771558<open>)] after transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1683228062<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@100497af]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1683228062<open>)]
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1683228062<open>)] after transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:06:03 [http-nio-5001-exec-8] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.BookBorrowImp.createBorrowBook]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6a8885ad]
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.author,b1_0.book_count,b1_0.category,b1_0.created_at,b1_0.description,b1_0.isbn,b1_0.status,b1_0.title,b1_0.updated_at from books b1_0 where b1_0.id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into borrowed_books (book_id,borrow_at,due_date,fine_id,return_at,user_id) values (?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(297065851<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - update books set author=?,book_count=?,category=?,created_at=?,description=?,isbn=?,status=?,title=?,updated_at=? where id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,b1_0.fine_id,b1_0.return_at,b1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id join users u1_0 on u1_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(297065851<open>)]
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(947015289<open>)] for JPA transaction
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1352578568<open>)] for JPA transaction
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [http-nio-5001-exec-8] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b9c18a2]
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@486c5fa8]
2025-04-21 19:06:03 [task-9] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:03 [task-7] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1352578568<open>)]
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(947015289<open>)]
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [http-nio-5001-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(947015289<open>)] after transaction
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1352578568<open>)] after transaction
2025-04-21 19:06:03 [task-7] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@3fb6b1de
2025-04-21 19:06:03 [task-9] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@5faf0eec
2025-04-21 19:06:03 [task-9] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@5faf0eec
2025-04-21 19:06:03 [task-7] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@3fb6b1de
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1130456614<open>)] for JPA transaction
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2057295962<open>)] for JPA transaction
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@45329d10]
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d3670c5]
2025-04-21 19:06:03 [task-9] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:03 [task-7] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:06:03 [task-9] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:03 [task-7] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2057295962<open>)]
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1130456614<open>)]
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-9] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:06:03 [task-7] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:03 [task-9] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:06:03 [task-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2057295962<open>)] after transaction
2025-04-21 19:06:03 [task-9] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1130456614<open>)] after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(113231353<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@ff2c28d]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(113231353<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(113231353<open>)] after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(796121560<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@74003b69]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(796121560<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(796121560<open>)] after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(366614852<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4caa831a]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(366614852<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(366614852<open>)] after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1298732406<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32682d5b]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1298732406<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1298732406<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e8649a0]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1298732406<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1298732406<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6539342d]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1298732406<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1298732406<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@74e2835a]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1298732406<open>)]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - getDueDate--2025-04-05 00:00:00.0
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1298732406<open>)] for JPA transaction
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@322fe330]
2025-04-21 19:07:22 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)
2025-04-21 19:07:23 [http-nio-5001-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1048, SQLState: 23000
2025-04-21 19:07:23 [http-nio-5001-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Column 'user_id' cannot be null
2025-04-21 19:07:23 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 19:07:23 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1298732406<open>)]
2025-04-21 19:07:23 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:07:23 [http-nio-5001-exec-2] ERROR o.l.e.MyGlobalExceptionHandler - Exception---- could not execute statement [Column 'user_id' cannot be null] [insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)]; SQL [insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)]; constraint [null]
2025-04-21 19:07:23 [http-nio-5001-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'user_id' cannot be null] [insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)]; SQL [insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 19:10:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-21 19:10:23 [Thread-21] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 19:10:23 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 19:10:23 [Thread-21] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:23 [Thread-21] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:23 [Thread-21] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-04-21 19:10:23 [Thread-21] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-04-21 19:10:25 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 19:10:25 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 19:10:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 19:10:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 190 ms. Found 13 JPA repository interfaces.
2025-04-21 19:10:28 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 19:10:28 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:28 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 19:10:28 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 19:10:28 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 19:10:28 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2695 ms
2025-04-21 19:10:28 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 19:10:28 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 19:10:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 19:10:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-04-21 19:10:28 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@435a1ada
2025-04-21 19:10:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-04-21 19:10:28 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 19:10:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 19:10:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 19:10:30 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookBorrowController' defined in file [C:\Users\user\Java Notes\Library Management System\target\classes\org\librarymanagementsystem\controller\BookBorrowController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.librarymanagementsystem.services.BookBorrowService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-21 19:10:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-04-21 19:10:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-04-21 19:10:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-21 19:10:30 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 19:10:30 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in org.librarymanagementsystem.controller.BookBorrowController required a bean of type 'org.librarymanagementsystem.services.BookBorrowService' that could not be found.


Action:

Consider defining a bean of type 'org.librarymanagementsystem.services.BookBorrowService' in your configuration.

2025-04-21 19:10:33 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 19360 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 19:10:33 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 19:10:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 19:10:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2025-04-21 19:10:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 19:10:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 19:10:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 19:10:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 19:10:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2002 ms
2025-04-21 19:10:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 19:10:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 19:10:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 19:10:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-04-21 19:10:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53cb418f
2025-04-21 19:10:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-04-21 19:10:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 19:10:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 19:10:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:37 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 19:10:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 19:10:38 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 19:10:38 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:38 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 19:10:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 19:10:39 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 5.501 seconds (process running for 3448.616)
2025-04-21 19:10:39 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1948349428<open>)] for JPA transaction
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66f71ae1]
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1948349428<open>)] for JPA transaction
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:10:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 19:10:39 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:10:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1948349428<closed>)]
2025-04-21 19:10:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-04-21 19:10:39 [restartedMain] WARN  c.zaxxer.hikari.pool.ProxyConnection - HikariPool-8 - Connection com.mysql.cj.jdbc.ConnectionImpl@53cb418f marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:102)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:81)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:55)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:65)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1974)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:127)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:289)
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:589)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:897)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:866)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:716)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:384)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at org.librarymanagementsystem.security.DatabaseSeederService$$SpringCGLIB$$0.run(<generated>)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at org.librarymanagementsystem.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:15)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:929)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:565)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1925)
	... 37 common frames omitted
2025-04-21 19:10:39 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1948349428<closed>)] after transaction
2025-04-21 19:10:39 [restartedMain] ERROR o.s.t.i.TransactionInterceptor - Application exception overridden by rollback exception
org.springframework.dao.InvalidDataAccessApiUsageException: Session/EntityManager is closed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy18/jdk.proxy18.$Proxy317.findByRoleName(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy18/jdk.proxy18.$Proxy317.findByRoleName(Unknown Source)
	at org.librarymanagementsystem.security.DatabaseSeederService.run(DatabaseSeederService.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at org.librarymanagementsystem.security.DatabaseSeederService$$SpringCGLIB$$0.run(<generated>)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at org.librarymanagementsystem.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:15)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Session/EntityManager is closed
	at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:518)
	at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:186)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:1427)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy18/jdk.proxy18.$Proxy310.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:304)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:248)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:114)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:243)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 52 common frames omitted
2025-04-21 19:10:39 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 19:10:43 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-21 19:10:44 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.6 with PID 20580 (C:\Users\user\Java Notes\Library Management System\target\classes started by Mahitosh in C:\Users\user\Java Notes\Library Management System)
2025-04-21 19:10:44 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - The following 1 profile is active: "dev"
2025-04-21 19:10:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-21 19:10:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-21 19:10:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 19:10:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 216 ms. Found 13 JPA repository interfaces.
2025-04-21 19:10:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5001 (http)
2025-04-21 19:10:49 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-21 19:10:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-21 19:10:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-21 19:10:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5524 ms
2025-04-21 19:10:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 19:10:50 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-21 19:10:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-21 19:10:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 19:10:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-21 19:10:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ff22bc8
2025-04-21 19:10:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-21 19:10:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 19:10:54 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 19:10:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 19:10:55 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 19:10:56 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-04-21 19:10:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 19:10:58 [restartedMain] INFO  o.l.security.WebSecurityConfig - Security Configuration Loaded Successfully
2025-04-21 19:10:58 [restartedMain] INFO  o.l.security.WebSecurityConfig - webSecurityCustomizer-----
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:58 [restartedMain] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-04-21 19:10:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-21 19:10:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-5001"]
2025-04-21 19:10:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5001 (http) with context path '/'
2025-04-21 19:10:59 [restartedMain] INFO  o.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 16.5 seconds (process running for 17.962)
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.security.DatabaseSeederService.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1371467929<open>)] for JPA transaction
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f67f1f8]
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1371467929<open>)] for JPA transaction
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1371467929<open>)] for JPA transaction
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1371467929<open>)] for JPA transaction
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.role_name=?
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? limit ?
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1371467929<open>)]
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:10:59 [restartedMain] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1371467929<open>)] after transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:11:08 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1148151621<open>)] for JPA transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56065742]
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1148151621<open>)]
2025-04-21 19:11:08 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:08 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1148151621<open>)] after transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(721988566<open>)] for JPA transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ea4c529]
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(721988566<open>)]
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(721988566<open>)] after transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(906179980<open>)] for JPA transaction
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@bc67cda]
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(906179980<open>)]
2025-04-21 19:11:08 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:08 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:08 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(906179980<open>)] after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e9b4f9a]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@84c9ce8]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ff7ec12]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57dae0f0]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - getDueDate--2025-04-05 00:00:00.0
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@43ec879d]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d18085e]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54072fab]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@36a1fe2e]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.servicesImp.BookBorrowImp - fines return-- org.librarymanagementsystem.model.Fines@f472e89
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@786a58c5]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2e8c880a]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1884599224<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@226f46f1]
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1884599224<open>)]
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:11:09 [http-nio-5001-exec-2] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:11:09 [http-nio-5001-exec-2] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@924ffc8
2025-04-21 19:11:09 [task-1] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@924ffc8
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(956635959<open>)] for JPA transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Due date passed. Fine imposed, pay fine first to return the book
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75896a07]
2025-04-21 19:11:09 [task-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:11:09 [task-1] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(956635959<open>)]
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:11:09 [task-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:11:09 [task-1] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:11:09 [task-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(956635959<open>)] after transaction
2025-04-21 19:11:09 [http-nio-5001-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Due date passed. Fine imposed, pay fine first to return the book]
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/transitional/return
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(954568330<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@362267e6]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(954568330<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(954568330<open>)] after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1784131227<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5456b8ba]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1784131227<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1784131227<open>)] after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(509111627<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f3342a6]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(509111627<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(509111627<open>)] after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c7d715b]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@374b9414]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select b1_0.id,b1_0.book_id,b2_0.id,b2_0.author,b2_0.book_count,b2_0.category,b2_0.created_at,b2_0.description,b2_0.isbn,b2_0.status,b2_0.title,b2_0.updated_at,b1_0.borrow_at,b1_0.due_date,f1_0.id,f1_0.amount,b3_0.id,b3_0.author,b3_0.book_count,b3_0.category,b3_0.created_at,b3_0.description,b3_0.isbn,b3_0.status,b3_0.title,b3_0.updated_at,f1_0.created_at,f1_0.fine_date,f1_0.paid,f1_0.updated_at,f1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,b1_0.return_at,b1_0.user_id,u2_0.id,u2_0.account_expiry_date,u2_0.account_non_expired,u2_0.account_non_locked,u2_0.address,u2_0.agree_marketing_material,u2_0.country_code,u2_0.created_at,u2_0.credentials_expiry_date,u2_0.credentials_non_expired,u2_0.email,u2_0.enabled,u2_0.fcm_token,u2_0.id_proof,u2_0.is_two_factor_enabled,u2_0.is_verified,u2_0.membership_date,u2_0.password,u2_0.phone_number,u2_0.profile,u2_0.sign_up_method,u2_0.status,u2_0.term_condition_material,u2_0.two_factor_secret,u2_0.updated_at,u2_0.username from borrowed_books b1_0 join books b2_0 on b2_0.id=b1_0.book_id left join book_fines f1_0 on f1_0.id=b1_0.fine_id left join books b3_0 on b3_0.id=f1_0.book_id left join users u1_0 on u1_0.id=f1_0.user_id join users u2_0 on u2_0.id=b1_0.user_id where b1_0.id=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.servicesImp.BookBorrowImp - borrowedBook--null
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c67fd00]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63c8b9bd]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.servicesImp.BookBorrowImp - getDueDate--2025-04-05 00:00:00.0
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f19d0d9]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5cbdc4b]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3c7fe339]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1872e60]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into book_fines (amount,book_id,created_at,fine_date,paid,updated_at,user_id) values (?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.servicesImp.BookBorrowImp - fines return-- org.librarymanagementsystem.model.Fines@2907a91c
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75ddff26]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - update borrowed_books set book_id=?,borrow_at=?,due_date=?,fine_id=?,return_at=?,user_id=? where id=?
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@248cfc6d]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_MERGE for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_MERGE for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1734267115<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72ec2ddf]
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG org.hibernate.SQL - insert into notifications (message,notification_status,notification_type,sent_date,user_id) values (?,?,?,?,?)
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1734267115<open>)]
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Book
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Borrowed_book_records
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Fines
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:20:31 [http-nio-5001-exec-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:20:31 [http-nio-5001-exec-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] INFO  o.l.s.NotificationServiceImp - notification--org.librarymanagementsystem.model.Notification@326452b2
2025-04-21 19:20:31 [task-3] INFO  o.l.servicesImp.EmailServicesImp - notification-- org.librarymanagementsystem.model.Notification@326452b2
2025-04-21 19:20:31 [http-nio-5001-exec-3] ERROR o.l.e.MyGlobalExceptionHandler - APIException---- Due date passed. Fine imposed, pay fine first to return the book
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(7410730<open>)] for JPA transaction
2025-04-21 19:20:31 [http-nio-5001-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.librarymanagementsystem.exception.APIException: Due date passed. Fine imposed, pay fine first to return the book]
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44e90fc]
2025-04-21 19:20:31 [task-3] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.message,n1_0.notification_status,n1_0.notification_type,n1_0.sent_date,n1_0.user_id,u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username,ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id from notifications n1_0 join users u1_0 on u1_0.id=n1_0.user_id left join user_role_mappings ur1_0 on u1_0.id=ur1_0.user_id where n1_0.id=?
2025-04-21 19:20:31 [task-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.role_name from roles r1_0 where r1_0.id=?
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(7410730<open>)]
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:20:31 [task-3] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Notification
2025-04-21 19:20:31 [task-3] DEBUG org.hibernate.SQL - update notifications set message=?,notification_status=?,notification_type=?,sent_date=?,user_id=? where id=?
2025-04-21 19:20:31 [task-3] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(7410730<open>)] after transaction
2025-04-21 19:32:20 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/Newsletter/subscribe
2025-04-21 19:32:20 [http-nio-5001-exec-6] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:32:20 [http-nio-5001-exec-6] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:32:20 [http-nio-5001-exec-6] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 404183 milliseconds ago at 2025-04-21T13:55:36.000Z. Current time: 2025-04-21T14:02:20.183Z. Allowed clock skew: 0 milliseconds.
2025-04-21 19:32:20 [http-nio-5001-exec-6] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 19:32:23 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/auth/user-login
2025-04-21 19:32:23 [http-nio-5001-exec-7] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:32:23 [http-nio-5001-exec-7] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQyNTM2LCJleHAiOjE3NDUyNDM3MzZ9.am3NlrLiR7m11gr-CTkuBz3AEJ_t5M3uOkGtj9Z2LLU
2025-04-21 19:32:23 [http-nio-5001-exec-7] ERROR o.l.security.jwt.JwtUtils - JWT token is expired: JWT expired 407935 milliseconds ago at 2025-04-21T13:55:36.000Z. Current time: 2025-04-21T14:02:23.935Z. Allowed clock skew: 0 milliseconds.
2025-04-21 19:32:23 [http-nio-5001-exec-7] INFO  o.l.interceptors.LogsInterceptor - REQUEST: User=Anonymous, Method=POST, URL=/v1/api/auth/user-login
2025-04-21 19:32:23 [http-nio-5001-exec-7] INFO  o.l.interceptors.LogsInterceptor - ACTION LOG: User=Anonymous, Method=POST, Table=v1, Action=api
2025-04-21 19:32:24 [http-nio-5001-exec-7] INFO  o.l.controller.AuthController - authentication1----
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@513dce4d]
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1228794658<open>)]
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select ur1_0.user_id,ur1_0.id,ur1_0.assigned_at,ur1_0.role_id,r1_0.id,r1_0.role_name from user_role_mappings ur1_0 left join roles r1_0 on r1_0.id=ur1_0.role_id where ur1_0.user_id=?
2025-04-21 19:32:24 [http-nio-5001-exec-7] INFO  o.l.controller.AuthController - authentication-- UsernamePasswordAuthenticationToken [Principal=UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT]), Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_STUDENT]]
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.librarymanagementsystem.servicesImp.RefreshTokenServiceImp.deleteByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56353477]
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - select dl1_0.id,dl1_0.changes,dl1_0.created_date,dl1_0.entity_id,dl1_0.entity_name,dl1_0.modified_by,dl1_0.modified_date,dl1_0.operation,dl1_0.timestamp from audit_logs dl1_0 where dl1_0.id=?
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - delete rt1_0 from refreshes rt1_0 where rt1_0.user_id=?
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1228794658<open>)]
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1228794658<open>)] for JPA transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c1adda]
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG org.hibernate.SQL - insert into refreshes (expiry_date,token,user_id) values (?,?,?)
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1228794658<open>)]
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done cascade ACTION_PERSIST_ON_FLUSH for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done deleting orphans for collection: org.librarymanagementsystem.model.User.userRoles
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_PERSIST_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.User
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Role
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.UserRoleMapping
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 19:32:24 [http-nio-5001-exec-7] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.RefreshToken
2025-04-21 19:32:24 [http-nio-5001-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:32:24 [http-nio-5001-exec-7] INFO  o.l.interceptors.LogsInterceptor - POST-RESPONSE: User=Mahitosh, Method=POST, URL=/v1/api/auth/user-login, Status=200
2025-04-21 19:32:39 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /v1/api/Newsletter/subscribe
2025-04-21 19:32:39 [http-nio-5001-exec-1] INFO  o.l.security.jwt.JwtUtils - Authorization Header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQ0MTQ0LCJleHAiOjE3NDUyNDUzNDR9.qwbUUL2e0jdvUV5WLm6nLGri9Q-FKOV_HoKJjVuv8Fw
2025-04-21 19:32:39 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ1MjQ0MTQ0LCJleHAiOjE3NDUyNDUzNDR9.qwbUUL2e0jdvUV5WLm6nLGri9Q-FKOV_HoKJjVuv8Fw
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(423309609<open>)] for JPA transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17fccc7e]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(423309609<open>)]
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(423309609<open>)] after transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1618220553<open>)] for JPA transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1452fbfb]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_expiry_date,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.address,u1_0.agree_marketing_material,u1_0.country_code,u1_0.created_at,u1_0.credentials_expiry_date,u1_0.credentials_non_expired,u1_0.email,u1_0.enabled,u1_0.fcm_token,u1_0.id_proof,u1_0.is_two_factor_enabled,u1_0.is_verified,u1_0.membership_date,u1_0.password,u1_0.phone_number,u1_0.profile,u1_0.sign_up_method,u1_0.status,u1_0.term_condition_material,u1_0.two_factor_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1618220553<open>)]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1618220553<open>)] after transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1920967081<open>)] for JPA transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4b286a08]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1920967081<open>)]
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1920967081<open>)] after transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select r1_0.role_name from user_role_mappings urm1_0 join roles r1_0 on r1_0.id=urm1_0.role_id where urm1_0.user_id=?
2025-04-21 19:32:39 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - userDetails--UserDetailsImpl(id=1, userName=Mahitosh, email=mahitoshgiri287@gmail.com, password=$2a$12$jnB4Nj.L4oV.iJo3Xevgte2cFx/SbqzubTtXiwZ4ekjI1AEeO6Poq, accountNonExpired=true, accountNonLocked=true, credentialsNonExpired=true, enabled=true, authorities=[ROLE_STUDENT])
2025-04-21 19:32:39 [http-nio-5001-exec-1] INFO  o.l.security.jwt.AuthTokenFilter - Roles from JWT: [ROLE_STUDENT]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1713699605<open>)] for JPA transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3582e49]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into audit_logs (changes,created_date,entity_id,entity_name,modified_by,modified_date,operation,timestamp) values (?,?,?,?,?,?,?,?)
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1713699605<open>)]
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - select n1_0.id,n1_0.created_at,n1_0.updated_at,n1_0.active,n1_0.email,n1_0.unsubscribe_token from newsletters n1_0 where n1_0.email=?
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1713699605<open>)] for JPA transaction
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40ab3b3b]
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG org.hibernate.SQL - insert into newsletters (created_at,updated_at,active,email,unsubscribe_token) values (?,?,?,?,?)
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1713699605<open>)]
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.DBAuditLog
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Newsletter
2025-04-21 19:32:39 [http-nio-5001-exec-1] TRACE o.hibernate.engine.internal.Cascade - Done processing cascade ACTION_CHECK_ON_FLUSH for: org.librarymanagementsystem.model.Newsletter
2025-04-21 19:32:39 [http-nio-5001-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-04-21 21:51:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h12m31s867ms862µs200ns).
2025-04-21 22:38:15 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /api/users/emailsend
2025-04-21 22:38:15 [http-nio-5001-exec-5] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 22:38:15 [http-nio-5001-exec-5] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 22:38:16 [http-nio-5001-exec-5] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [358] milliseconds.
2025-04-21 22:38:16 [http-nio-5001-exec-5] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 22:38:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter called for URI: /api/users/user_login
2025-04-21 22:38:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.JwtUtils - Authorization Header: null
2025-04-21 22:38:42 [http-nio-5001-exec-4] INFO  o.l.security.jwt.AuthTokenFilter - AuthTokenFilter.java: null
2025-04-21 22:38:42 [http-nio-5001-exec-4] ERROR o.l.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-04-21 22:38:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 22:38:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-21 22:38:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:38:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-21 22:38:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
